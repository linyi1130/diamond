<!DOCTYPE html><html lang="zh"><head>    <meta charset="UTF-8">    <title>账户冲正</title></head><body><div id="content">    <div class="ui small modal" id="model1">        <h2 class="header">确认信息</h2>        <div class="content">            <p id="msg"></p>            <div class="ui form" id="correct">            <div class="field">            <input type="text" id="note" placeholder="请备注冲正原因">            <input type="hidden" id="serial_no">            </div>            </div>            <div class="ui hidden horizontal divider"></div>            <div class="actions">            <button class="ui positive button" onclick="correctuser()">确认</button>            <button class="ui negative button">返回</button>            </div>        </div>    </div>    <table class="ui selected blue table">        <thead>            <tr>                <th>流水号</th>                <th>变动金额</th>                <th>变动后余额</th>                <th>玩家账户</th>                <th>操作类型</th>                <th>操作时间</th>                <th>操作员</th>                <th>备注</th>            </tr>        </thead>        <tbody id="tbody">        {% for t in tb_result %}            <tr>                <td>{{ t.0 }}</td>                <td>{{ t.1 }}</td>                <td>{{ t.2 }}</td>                <td>{{ t.3 }}</td>                <td>{{ t.4 }}</td>                <td>{{ t.5 }}</td>                <td>{{ t.6 }}</td>                <td>{{ t.7 }}</td>            </tr>        {% endfor %}        </tbody>    </table><script>    $("#tbody").on("dblclick", "tr", function () {        var serial_no = $(this).children('td').eq(0).text();        var cash_num = $(this).children('td').eq(1).text();        $('#serial_no').val(serial_no);        //alert(serial_no);        var message = "请确认将流水号：" + serial_no + "记录按原账户冲正，涉及金额" + cash_num + "元";        $('#msg').text(message);        $('#model1').modal('show');        $('#correct').form({            on: 'blur',            inline: true,            fields: {                note: {                    identifier: 'note',                    rules: [{                        type: 'empty',                        prompt: '请备注冲正原因'                    }                    ]                }            }        });    });    function correctuser() {        //$.ajaxSetup({async: false});        var message=$("#correct").form('is valid');        if (message===true)        {            var serial_no = $('#serial_no').val();            var note=$.trim($('#note').val());            $.ajax({                url:'/correct_user/',                type:'post',                data:{'serial_no': serial_no, 'note': note},                success: function (result) {                   alert(result);                }            })        }    }</script></div></body></html>