<!DOCTYPE html>{% load static %}<html lang="zh"><head>    <meta charset="UTF-8">    <title>俱乐部账户</title>    <!--<link rel="stylesheet" href="../semantic/semantic.min.css"> -->    <link rel="stylesheet" href="{% static 'semantic/semantic.css'%}"><script src="http://lib.baomitu.com/jquery/1.12.4/jquery.min.js"></script><script src="http://lib.baomitu.com/datatables/1.10.16/js/jquery.dataTables.min.js"></script><script src="http://lib.baomitu.com/datatables/1.10.16/js/dataTables.semanticui.min.js"></script><script src="http://lib.baomitu.com/semantic-ui/2.2.13/semantic.min.js"></script></head><body><div id="sidebar" ></div><div class="dimmed pusher">    <div class="ui labeled icon button" id="menu">		<i class="sidebar icon"></i>		导航		</div>    <div class="ui doubling stackable container" style="padding: 50px">        <div class="ui five item inverted menu">		<a class="item" id="a">出纳台</a>		<a class="item" id="b">玩家管理</a>		<a class="item" id="c">牌局管理</a>		<a class="item" id="d">实时报表</a>		<a class="item" id="e">俱乐部管理</a>		</div>        <div class="ui horizontal divider">	    联盟间俱乐部未结账单	    </div>        <div class="ui small modal">        <h2 class="header">错误信息</h2>        <div class="content">            <p id="msg"></p>        </div>        <div class="actions">            <button class="ui negative button">返回</button>        </div>        </div>    <div class="ui doubling stackable grid">        <div class="row">            <div class="four wide column">            <h3 class="ui orange header">                <i class="credit card alternative icon"></i>                <div class="content">                    <div class="sub orange header">俱乐部账户</div>                </div>            </h3>            <div name="account_list" id="account_list">                <div class="ui form" name="cash_form" id="cash_form" >                    <div class="field">                    <label>请选择俱乐部</label>                    <select class="ui fluid search selection dropdown" name="club" id="club">                        <i class="dropdown icon"></i>                        <option class="item" value="">请选择俱乐部</option>                        {% for t in tb_club %}                        <option class="item" value={{ t.0 }},{{ t.1 }}>{{ t.2 }}</option>                        {% endfor %}                    </select>                    </div>                    <div class="field">                        <label>请选择账户</label>                        <select class="ui fluid selection dropdown" name="account" id="account">                            <i class="dropdown icon"></i>                            <option class="item" value="">请选择账户</option>                            {% for t in tb_account %}                                <option class="item" value={{ t.0 }}>{{ t.1 }}</option>                            {% endfor %}                        </select>                    </div>                    <div class="field">                        <label>请输入金额</label>                        <input type="text" id="cash_num" placeholder="输入存取款金额">                    </div>                    <div class="field">                        <div class="ui large toggle checkbox">                            <input type="checkbox" name="cash_type" id="cash_type">                            <label for="cash_type">是否结算</label>                        </div>                    </div>                    <div class="field">                        <label>备注</label>                        <input type="text" name="note" id="note">                    </div>                    <div class="ui hidden divider"></div>                    <button class="ui mini button primary" onclick="cash()">提交</button>                    <button class="ui mini button discard right floated">重填</button>                </div>            </div>            </div>            <div class="twelve wide column" name="content" id="content">                <table class="ui celled orange table">                    <thead>                        <tr>                            <th style="display:none"></th>                            <th>俱乐部</th>                            <th>当前余额</th>                        </tr>                    </thead>                    <tbody id="tbody">                        {% for t in tb_union_balance %}                        <tr>                            <td style="display: none">{{ t.0 }}</td>                            <td>{{ t.2 }}</td>                            <td>{{ t.3 }}</td>                        </tr>                        {% endfor %}                    </tbody>                </table>            </div>        </div>    </div>    </div></div><script>    	$(document).ready(function(){		$("#menu").click(function(){		    $('.ui.sidebar').sidebar('toggle');	});		$("#sidebar").load('/loadsidebar/');        $("#e").addClass('active red item');        $(".ui.dropdown").dropdown();        //$("#content").load('/union_account_list/')	}					 )</script><script>    function cash() {        var message=$("#cash_form").form('is valid');        if (message==true)        {var str_club_info=$('#club').dropdown('get value');        var club_info=str_club_info.split(",");        var club_id=club_info[0];        var club_account_id=club_info[1];        var club_name=$('#club').dropdown('get text');        var account_id=$('#account').dropdown('get value');        var cash_num=$.trim($('#cash_num').val());        var cash_type=$('#cash_type').prop('checked');        var note=$.trim($('#note').val());        $.ajax({            url:'/club_cash/',            type:'post',            data:{'club_id': club_id,'account_id': account_id, 'cash_num':cash_num,'cash_type': cash_type,'note':note },            success: function (result_2) {                if (result_2==="False")                {                    $('#msg').text("账户余额不足，请确认后操作");                    $('.ui.modal').modal('show')                }                else{                    $("#content").load("/club_account_view/" + "#content", {'account_id': club_account_id, 'club_name': club_name},function (result) {                        $result = $(result);                        $result.find("script").appendTo('#content');                        $('#cash_num').val("");                        $('#note').val("");                    })                }            }            })        }        }</script><script>    $("#tbody").on("dblclick", "tr", function () {            var account_id = $(this).children('td').eq(0).text();            var club_name = $(this).children('td').eq(1).text();            $("#content").load("/club_account_view/" + "#content", {'account_id': account_id, 'club_name': club_name},function (result) {                $result=$(result);                $result.find("script").appendTo('#content');            });        })</script><script>    $('#cash_form').form({    on:'blur',    inline : true,    fields:{        cash_num:{          identifier :'cash_num',          rules:[{              type: 'empty',              prompt: '请输入金额'          },{              type:'regExp',              value : '/^[1-9]\\d*(\\.\\d+)?$/',              prompt:'请输入正数'          }          ]        }    }})</script><script>$('.ui.checkbox')  .checkbox()  .first().checkbox({    onChecked: function() {      $('#account_list').addClass("ui inverted red segment")    },        onUnchecked: function() {      $('#account_list').removeClass("ui inverted red segment")    }  });</script></body></html>