{% load static %}<!DOCTYPE html><html lang="zh"><head>    <meta charset="UTF-8">    <title>俱乐部管理</title><!--<link rel="stylesheet" href="./semantic/semantic.min.css">--><link rel="stylesheet" href="{% static 'semantic/semantic.css'%}"><script src="http://lib.baomitu.com/jquery/1.12.4/jquery.min.js"></script><script src="http://lib.baomitu.com/datatables/1.10.16/js/jquery.dataTables.min.js"></script><script src="http://lib.baomitu.com/datatables/1.10.16/js/dataTables.semanticui.min.js"></script><script src="http://lib.baomitu.com/semantic-ui/2.2.13/semantic.min.js"></script></head><body><div id="sidebar" ></div><div class="dimmed pusher"><div class="ui labeled icon button" id="menu">		<i class="sidebar icon"></i>		导航		</div>    <div class="ui padded container" style="padding: 50px">      <div class="ui five item inverted menu">		<a class="item" id="a">出纳台</a>		<a class="item" id="b">玩家管理</a>		<a class="item" id="c">牌局管理</a>		<a class="item" id="d">实时报表</a>		<a class="item" id="e">俱乐部管理</a>		</div>	<div class="ui horizontal divider">	俱乐部新增	</div>    <div class="ui doubling stackable grid">	<div class="row">	<div class="four wide column">                   <h3 class="ui orange header">                <i class="anchor icon"></i>                <div class="content">                        俱乐部管理                    <div class="sub orange header">新建俱乐部</div>                </div>                </h3>        <div name="club_reg"><div><form class="ui form" action="/club_add/" method="post" id="club">  <div class="field">    <label>俱乐部名称</label>    <input id="club_name" type="text" name="club_name" placeholder="俱乐部名称">  </div>  <div class="field">    <label for="c_shortname">俱乐部缩写</label>    <input id="c_shortname" type="text" name="short_name" placeholder="缩写限2个汉字">  </div>  <div class="field">    <label for="c_club_desc">俱乐部描述</label>    <input id="c_club_desc" type="text" name="club_desc" placeholder="相关描述">  </div>  <div class="field">    <label for="c_income_rate">自身水钱比例</label>    <input id="c_income_rate" type="text" name="income_rate" placeholder="填0-100整数，100表示不上交">  </div>  <div class="field">    <label for="c_insure_rate">自身保险比例</label>    <input id="c_insure_rate" type="text" name="insure_rate" placeholder="填0-100整数，100表示不上交">  </div>  <button class="ui button mini primary" type="submit">提交</button>  <button class="ui button right floated mini discard" type="reset" >重填</button><br>  <div class="ui error message">      </div>  </form>		</div>    </div>	</div>	<div class="twelve wide column"><div name="user_list"><div>	  <table class="ui celled table" id="club_list">  <thead>    <tr><th>俱乐部名称</th>    <th>缩写</th>    <th>自身水钱比例</th>	<th>自身保险比例</th>    <th>描述</th>	<th>更新时间</th>  </tr></thead>  <tbody>    {% for t in t_club %}	  <tr>		 <td>{{t.club_name}}</td>		 <td>{{t.club_shortname}}</td>		 <td>{{t.income_rate}}</td>		 <td>{{t.insure_rate}}</td>          <td>{{t.club_desc}}</td>         <td>{{ t.active_time }}</td>	  </tr>	{% endfor %}  </tbody></table>	  </div>	</div>	</div></div></div>    </div></div><script>//边栏弹出	$("#menu").click(function(){		$('.ui.sidebar').sidebar('toggle');	});</script><script>//加载边栏，设置导航激活按钮    $(document).ready(function () {        $("#sidebar").load('/loadsidebar/')        $("#e").addClass('active red item')    })</script><script>//表单验证</script><script>$(document).ready(function () {    $.fn.form.settings.rules.uniqueclub=function (club_name) {        var valid=false;        $.ajax({            url: '/checkclub/',            data:{"club_name" : club_name},            type: 'POST',            async: false,            dataType: 'text'           // success:function (message) {           //     valid=message;               // alert(valid)           // }        })        .done(function (result) {            if (result==0)                valid=false            else valid=true        })        //alert(valid);        return valid;    };$('#club')  .form({    on: 'blur',    inline : true,    fields: {      club_name: {        identifier  : 'club_name',        rules: [          {            type   : 'empty',            prompt : '请填写俱乐部名称'          },          {            type  :'uniqueclub',            prompt:'俱乐部已存在'             }        ]      },      short_name:{         identifier: 'short_name',          rules:[              {                  type: 'maxLength[2]',                  prompt:'最多不能超过两个汉字'              },              {                  type:'empty',                  prompt:'缩写不能空'              }          ]      },       club_desc:{         identifier: 'club_desc',          rules:[              {                  type: 'maxLength[10]',                  prompt:'最多不能超过十个汉字'              }          ]      },       income_rate:{         identifier: 'income_rate',          rules:[              {                  type: 'regExp',                  value:'/^(0|[1-9]\\d?|100)$/',                  prompt:'请输入0-100整数'              }          ]      },       insure_rate:{         identifier: 'insure_rate',          rules:[              {                  type: 'regExp',                  value:'/^(0|[1-9]\\d?|100)$/',                  prompt:'请输入0-100整数'              }          ]      },      onSuccess: function (event,fields) {          event.preventDefault();          console.log(fields);      }    }});})</script><script>$('#club_list').DataTable({    "lengthMenu" : [5,10,20,50],    "order":[[0,"desc"]],  responsive: true,  language: {      "sProcessing": "处理中...",      "sLengthMenu": "显示 _MENU_ 项结果",      "sZeroRecords": "没有匹配结果",      "sInfo": "显示第 _START_ 至 _END_ 项结果，共 _TOTAL_ 项",      "sInfoEmpty": "显示第 0 至 0 项结果，共 0 项",      "sInfoFiltered": "(由 _MAX_ 项结果过滤)",      "sInfoPostFix": "",      "sSearch": "搜索:",      "sUrl": "",      "sEmptyTable": "表中数据为空",      "sLoadingRecords": "载入中...",      "sInfoThousands": ",",      "oPaginate": {          "sFirst": "首页",          "sPrevious": "上页",          "sNext": "下页",          "sLast": "末页"      },      "oAria": {          "sSortAscending": ": 以升序排列此列",          "sSortDescending": ": 以降序排列此列"      }  }});</script></body></html>